
index_html = '''<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Five Roam Coffee – Specialty Single Origin</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Lato:wght@300;400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    :root{--beige:#f5f0e8;--beige-dark:#e8dfc8;--beige-mid:#ede4d0;--brown:#3e2a1a;--brown-light:#6b4226;--gold:#b8860b;--gold-light:#d4a843;--accent:#8b5e3c;--text:#2c1a0e;--text-light:#6b5040;--white:#fffdf8;--shadow:rgba(62,42,26,0.12);}
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:'Lato',sans-serif;background:var(--beige);color:var(--text);}
    a{text-decoration:none;color:inherit;}
    nav{position:fixed;top:0;width:100%;z-index:1000;background:rgba(245,240,232,0.96);backdrop-filter:blur(8px);border-bottom:1px solid var(--beige-dark);padding:0 5%;display:flex;align-items:center;justify-content:space-between;height:68px;}
    .nav-logo{font-family:'Playfair Display',serif;font-size:1.5rem;font-weight:700;color:var(--brown);letter-spacing:1px;}
    .nav-logo span{color:var(--gold);}
    .nav-links{display:flex;gap:2rem;list-style:none;}
    .nav-links a{font-size:0.9rem;font-weight:600;color:var(--brown-light);letter-spacing:0.5px;transition:color 0.2s;}
    .nav-links a:hover{color:var(--gold);}
    .nav-cart-btn{background:var(--brown);color:var(--white);border:none;border-radius:24px;padding:9px 20px;font-family:'Lato',sans-serif;font-weight:600;font-size:0.88rem;cursor:pointer;display:flex;align-items:center;gap:8px;transition:background 0.2s;}
    .nav-cart-btn:hover{background:var(--gold);}
    #cart-count{background:var(--gold-light);color:var(--white);border-radius:50%;width:20px;height:20px;font-size:0.75rem;font-weight:700;display:inline-flex;align-items:center;justify-content:center;}
    #hero{min-height:100vh;background:linear-gradient(135deg,#3e2a1a 0%,#6b4226 40%,#b8860b 100%);display:flex;align-items:center;justify-content:center;text-align:center;padding:100px 5% 60px;position:relative;overflow:hidden;}
    #hero::before{content:'';position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='20'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;}
    .hero-inner{position:relative;z-index:1;max-width:760px;}
    .hero-tag{display:inline-block;background:var(--gold-light);color:var(--white);font-size:0.78rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:6px 18px;border-radius:20px;margin-bottom:24px;}
    #hero h1{font-family:'Playfair Display',serif;font-size:clamp(2.8rem,6vw,5rem);color:var(--white);line-height:1.15;margin-bottom:20px;}
    #hero h1 em{color:var(--gold-light);font-style:italic;}
    #hero p{font-size:1.1rem;color:rgba(255,255,255,0.82);max-width:560px;margin:0 auto 36px;line-height:1.75;}
    .hero-cta{background:var(--gold-light);color:var(--white);border:none;border-radius:30px;padding:15px 38px;font-family:'Lato',sans-serif;font-size:1rem;font-weight:700;cursor:pointer;letter-spacing:0.5px;transition:all 0.25s;display:inline-flex;align-items:center;gap:10px;}
    .hero-cta:hover{background:var(--white);color:var(--brown);transform:translateY(-2px);}
    #story{background:var(--beige-dark);padding:80px 5%;display:flex;align-items:center;justify-content:center;gap:60px;flex-wrap:wrap;}
    .story-step{text-align:center;max-width:200px;}
    .story-icon{font-size:2.4rem;color:var(--gold);margin-bottom:14px;}
    .story-step h3{font-family:'Playfair Display',serif;font-size:1.05rem;color:var(--brown);margin-bottom:8px;}
    .story-step p{font-size:0.85rem;color:var(--text-light);line-height:1.6;}
    .story-arrow{font-size:1.6rem;color:var(--gold);opacity:0.5;}
    .section-title{font-family:'Playfair Display',serif;font-size:clamp(1.8rem,3.5vw,2.5rem);color:var(--brown);text-align:center;margin-bottom:12px;}
    .section-sub{text-align:center;color:var(--text-light);max-width:560px;margin:0 auto 50px;line-height:1.7;font-size:0.97rem;}
    .section-divider{width:60px;height:3px;background:var(--gold-light);margin:14px auto 0;border-radius:2px;}
    #coffees{padding:90px 5%;background:var(--beige);}
    #coffees .section-divider{margin-bottom:50px;}
    .coffees-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(290px,1fr));gap:30px;max-width:1200px;margin:0 auto;}
    .coffee-card{background:var(--white);border-radius:16px;box-shadow:0 4px 20px var(--shadow);overflow:hidden;transition:transform 0.25s,box-shadow 0.25s;position:relative;}
    .coffee-card:hover{transform:translateY(-5px);box-shadow:0 10px 36px var(--shadow);}
    .coffee-card.selected{outline:3px solid var(--gold);}
    .coffee-img-wrap{position:relative;height:210px;overflow:hidden;background:linear-gradient(135deg,#d4a843 0%,#8b5e3c 100%);display:flex;align-items:center;justify-content:center;}
    .coffee-img-wrap img{width:100%;height:100%;object-fit:cover;transition:transform 0.4s;}
    .coffee-card:hover .coffee-img-wrap img{transform:scale(1.05);}
    .coffee-img-placeholder{font-size:4rem;opacity:0.35;}
    .process-badge{position:absolute;top:12px;right:12px;background:var(--gold-light);color:var(--white);font-size:0.72rem;font-weight:700;letter-spacing:1px;padding:4px 10px;border-radius:12px;}
    .coffee-body{padding:20px 22px 22px;}
    .coffee-estate{font-size:0.78rem;color:var(--gold);font-weight:700;letter-spacing:1.5px;text-transform:uppercase;margin-bottom:6px;}
    .coffee-name{font-family:'Playfair Display',serif;font-size:1.15rem;color:var(--brown);margin-bottom:10px;}
    .coffee-meta{display:flex;gap:14px;margin-bottom:12px;flex-wrap:wrap;}
    .coffee-meta-item{font-size:0.8rem;color:var(--text-light);}
    .coffee-meta-item strong{color:var(--brown-light);}
    .taste-notes{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:16px;}
    .taste-tag{background:var(--beige-mid);color:var(--brown-light);font-size:0.75rem;font-weight:600;padding:3px 10px;border-radius:12px;}
    .coffee-footer{display:flex;align-items:center;justify-content:space-between;margin-top:4px;}
    .coffee-price{font-family:'Playfair Display',serif;font-size:1.3rem;color:var(--brown);font-weight:700;}
    .coffee-price span{font-size:0.75rem;color:var(--text-light);font-family:'Lato',sans-serif;font-weight:400;}
    .coffee-price small{display:block;font-size:0.68rem;color:var(--text-light);font-family:'Lato',sans-serif;font-weight:400;}
    .add-btn{background:var(--brown);color:var(--white);border:none;border-radius:22px;padding:9px 20px;font-size:0.85rem;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:7px;transition:background 0.2s;}
    .add-btn:hover{background:var(--gold);}
    .add-btn.added{background:var(--gold-light);}
    #why{background:var(--brown);padding:90px 5%;}
    #why .section-title{color:var(--white);}
    #why .section-sub{color:rgba(255,255,255,0.65);}
    #why .section-divider{background:var(--gold-light);}
    .why-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:30px;max-width:1000px;margin:0 auto;}
    .why-card{background:rgba(255,255,255,0.06);border-radius:14px;padding:30px 24px;text-align:center;border:1px solid rgba(255,255,255,0.1);}
    .why-icon{font-size:2rem;color:var(--gold-light);margin-bottom:14px;}
    .why-card h3{font-family:'Playfair Display',serif;color:var(--white);font-size:1rem;margin-bottom:8px;}
    .why-card p{font-size:0.84rem;color:rgba(255,255,255,0.65);line-height:1.65;}
    .cart-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.45);z-index:2000;opacity:0;pointer-events:none;transition:opacity 0.3s;}
    .cart-overlay.open{opacity:1;pointer-events:all;}
    .cart-drawer{position:fixed;top:0;right:-440px;width:100%;max-width:440px;height:100%;background:var(--white);z-index:2100;display:flex;flex-direction:column;transition:right 0.35s cubic-bezier(.4,0,.2,1);box-shadow:-8px 0 32px var(--shadow);}
    .cart-drawer.open{right:0;}
    .cart-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--beige-dark);}
    .cart-header h2{font-family:'Playfair Display',serif;font-size:1.2rem;color:var(--brown);}
    .cart-close{background:none;border:none;font-size:1.4rem;cursor:pointer;color:var(--brown-light);}
    .cart-items{flex:1;overflow-y:auto;padding:16px 24px;}
    .cart-empty{text-align:center;color:var(--text-light);padding:50px 0;font-size:0.95rem;}
    .cart-item{display:flex;gap:12px;margin-bottom:18px;padding-bottom:18px;border-bottom:1px solid var(--beige-mid);align-items:flex-start;}
    .cart-item-img{width:60px;height:60px;border-radius:10px;flex-shrink:0;background:linear-gradient(135deg,#d4a843,#8b5e3c);display:flex;align-items:center;justify-content:center;font-size:1.4rem;overflow:hidden;}
    .cart-item-img img{width:100%;height:100%;object-fit:cover;}
    .cart-item-info{flex:1;}
    .cart-item-name{font-family:'Playfair Display',serif;font-size:0.9rem;color:var(--brown);margin-bottom:3px;}
    .cart-item-sub{font-size:0.75rem;color:var(--text-light);margin-bottom:7px;}
    .qty-control{display:flex;align-items:center;gap:8px;}
    .qty-btn{background:var(--beige-dark);border:none;border-radius:50%;width:24px;height:24px;font-size:0.95rem;cursor:pointer;color:var(--brown);font-weight:700;transition:background 0.2s;}
    .qty-btn:hover{background:var(--gold-light);color:var(--white);}
    .qty-num{font-weight:700;color:var(--brown);font-size:0.88rem;}
    .cart-item-price{font-weight:700;color:var(--brown);font-size:0.9rem;white-space:nowrap;}
    .remove-btn{background:none;border:none;color:#cc4444;cursor:pointer;font-size:0.8rem;margin-top:5px;}
    .promo-section{padding:10px 24px;border-top:1px solid var(--beige-mid);}
    .promo-row{display:flex;gap:8px;}
    .promo-input{flex:1;padding:8px 12px;border:2px solid var(--beige-dark);border-radius:18px;font-family:'Lato',sans-serif;font-size:0.83rem;color:var(--text);background:var(--beige);outline:none;transition:border-color 0.2s;text-transform:uppercase;letter-spacing:1px;}
    .promo-input:focus{border-color:var(--gold);}
    .promo-apply-btn{background:var(--brown-light);color:var(--white);border:none;border-radius:18px;padding:8px 14px;font-size:0.8rem;font-weight:700;cursor:pointer;transition:background 0.2s;white-space:nowrap;}
    .promo-apply-btn:hover{background:var(--gold);}
    .promo-msg{font-size:0.75rem;margin-top:5px;}
    .promo-msg.success{color:#2a8c4a;}
    .promo-msg.error{color:#cc3333;}
    .cart-footer{padding:14px 24px;border-top:1px solid var(--beige-dark);}
    .discount-notice{background:#fff7e6;border:1px solid var(--gold-light);border-radius:8px;padding:8px 12px;font-size:0.8rem;color:var(--brown-light);margin-bottom:10px;display:none;}
    .discount-notice i{color:var(--gold);margin-right:5px;}
    .cart-totals{margin-bottom:12px;}
    .cart-total-row{display:flex;justify-content:space-between;font-size:0.86rem;margin-bottom:5px;color:var(--text-light);}
    .cart-total-row.grand{font-weight:700;color:var(--brown);font-size:1rem;border-top:1px solid var(--beige-dark);padding-top:7px;margin-top:7px;}
    .gst-note{font-size:0.73rem;color:var(--text-light);font-style:italic;}
    .checkout-btn{width:100%;background:var(--brown);color:var(--white);border:none;border-radius:26px;padding:13px;font-family:'Playfair Display',serif;font-size:0.95rem;font-weight:700;cursor:pointer;transition:background 0.2s;display:flex;align-items:center;justify-content:center;gap:10px;}
    .checkout-btn:hover{background:var(--gold);}
    .checkout-note{text-align:center;font-size:0.72rem;color:var(--text-light);margin-top:8px;}
    footer{background:#1a0f07;color:rgba(255,255,255,0.7);padding:60px 5% 30px;}
    .footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:40px;max-width:1100px;margin:0 auto 40px;}
    .footer-brand .nav-logo{color:var(--white);font-size:1.6rem;display:block;margin-bottom:14px;}
    .footer-brand p{font-size:0.88rem;line-height:1.75;max-width:280px;}
    .footer-heading{font-family:'Playfair Display',serif;color:var(--white);font-size:1rem;margin-bottom:16px;}
    .footer-links{list-style:none;}
    .footer-links li{margin-bottom:10px;}
    .footer-links a{font-size:0.87rem;transition:color 0.2s;}
    .footer-links a:hover{color:var(--gold-light);}
    .social-row{display:flex;gap:16px;margin-top:20px;}
    .social-btn{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,0.1);display:flex;align-items:center;justify-content:center;font-size:1rem;color:rgba(255,255,255,0.8);transition:background 0.2s,color 0.2s;}
    .social-btn:hover{background:var(--gold-light);color:var(--white);}
    .footer-bottom{border-top:1px solid rgba(255,255,255,0.1);padding-top:24px;text-align:center;font-size:0.8rem;color:rgba(255,255,255,0.4);}
    #toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%) translateY(80px);background:var(--brown);color:var(--white);padding:12px 26px;border-radius:30px;font-size:0.9rem;font-weight:600;z-index:9999;transition:transform 0.35s;pointer-events:none;}
    #toast.show{transform:translateX(-50%) translateY(0);}
    .modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.55);z-index:8000;display:none;align-items:center;justify-content:center;padding:16px;}
    .modal-overlay.open{display:flex;}
    .modal-box{background:var(--white);border-radius:20px;width:100%;padding:30px 28px;max-height:92vh;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,0.3);}
    #brew-modal .modal-box{max-width:520px;}
    .modal-box h2{font-family:'Playfair Display',serif;color:var(--brown);margin-bottom:6px;font-size:1.3rem;}
    .modal-box .modal-sub{color:var(--text-light);font-size:0.87rem;margin-bottom:20px;line-height:1.55;}
    .step-label{font-size:0.75rem;font-weight:700;color:var(--gold);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:10px;}
    .option-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:20px;}
    .option-grid.brew-grid{grid-template-columns:repeat(2,1fr);}
    .opt-btn{border:2px solid var(--beige-dark);border-radius:12px;padding:12px 8px;text-align:center;cursor:pointer;transition:all 0.2s;background:var(--white);}
    .opt-btn:hover,.opt-btn.sel{border-color:var(--gold);background:#fff9ef;}
    .opt-btn i{font-size:1.4rem;color:var(--gold);margin-bottom:6px;display:block;}
    .opt-btn span{font-size:0.8rem;font-weight:600;color:var(--brown);display:block;}
    .opt-btn small{font-size:0.7rem;color:var(--text-light);}
    .modal-confirm{width:100%;background:var(--brown);color:var(--white);border:none;border-radius:22px;padding:12px;font-family:'Lato',sans-serif;font-weight:700;font-size:0.92rem;cursor:pointer;transition:background 0.2s;margin-top:4px;}
    .modal-confirm:hover{background:var(--gold);}
    .modal-cancel{display:block;text-align:center;margin-top:10px;font-size:0.8rem;color:var(--text-light);cursor:pointer;}
    .modal-cancel:hover{color:var(--brown);}
    #checkout-modal .modal-box{max-width:560px;}
    .form-group{margin-bottom:14px;}
    .form-group label{display:block;font-size:0.78rem;font-weight:700;color:var(--brown-light);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px;}
    .form-control{width:100%;padding:10px 14px;border:2px solid var(--beige-dark);border-radius:10px;font-family:'Lato',sans-serif;font-size:0.93rem;color:var(--text);background:var(--beige);outline:none;transition:border-color 0.2s;}
    .form-control:focus{border-color:var(--gold);}
    textarea.form-control{height:72px;resize:vertical;}
    .checkout-invoice{background:var(--beige);border-radius:12px;padding:16px 18px;margin-bottom:16px;}
    .inv-row{display:flex;justify-content:space-between;font-size:0.85rem;margin-bottom:6px;color:var(--text-light);}
    .inv-row.total{font-weight:700;color:var(--brown);font-size:1rem;border-top:1px solid var(--beige-dark);padding-top:8px;margin-top:4px;}
    .inv-items{margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid var(--beige-dark);}
    .inv-item{display:flex;justify-content:space-between;font-size:0.8rem;color:var(--text);margin-bottom:3px;}
    .place-order-btn{width:100%;background:var(--brown);color:var(--white);border:none;border-radius:26px;padding:14px;font-family:'Playfair Display',serif;font-size:1rem;font-weight:700;cursor:pointer;transition:background 0.2s;display:flex;align-items:center;justify-content:center;gap:10px;margin-top:4px;}
    .place-order-btn:hover{background:var(--gold);}
    #success-modal .modal-box{max-width:460px;text-align:center;}
    .success-icon{font-size:3.5rem;color:#2a8c4a;margin-bottom:16px;}
    .order-id-box{background:var(--beige);border-radius:10px;padding:12px 20px;font-family:monospace;font-size:1rem;color:var(--brown);font-weight:700;letter-spacing:2px;margin-bottom:20px;}
    .close-success-btn{background:var(--brown);color:var(--white);border:none;border-radius:22px;padding:12px 32px;font-family:'Lato',sans-serif;font-weight:700;font-size:0.9rem;cursor:pointer;transition:background 0.2s;}
    .close-success-btn:hover{background:var(--gold);}
    @media(max-width:768px){.nav-links{display:none;}.story-arrow{display:none;}.footer-grid{grid-template-columns:1fr;}.option-grid.brew-grid{grid-template-columns:repeat(2,1fr);}}
  </style>
</head>
<body>
<nav>
  <div class="nav-logo">Five<span>Roam</span> Coffee</div>
  <ul class="nav-links">
    <li><a href="#story">Our Story</a></li>
    <li><a href="#coffees">Coffees</a></li>
    <li><a href="#why">Why Us</a></li>
  </ul>
  <button class="nav-cart-btn" onclick="toggleCart()">
    <i class="fas fa-shopping-bag"></i> Cart <span id="cart-count">0</span>
  </button>
</nav>

<section id="hero">
  <div class="hero-inner">
    <div class="hero-tag">&#9749; Specialty Single Origin &middot; South India</div>
    <h1>Coffee That Tells a <em>Story</em> &mdash; One Estate at a Time</h1>
    <p>We source rare green Arabica beans from South Indian estates, roast small batches with care, let them rest and develop, then grind fresh to your brew method &mdash; and deliver straight to your door.</p>
    <button class="hero-cta" onclick="document.getElementById('coffees').scrollIntoView({behavior:'smooth'})">
      <i class="fas fa-leaf"></i> Explore Our Coffees
    </button>
  </div>
</section>

<section id="story">
  <div class="story-step"><div class="story-icon"><i class="fas fa-seedling"></i></div><h3>Source</h3><p>Specialty green Arabica beans hand-picked from single South Indian estates.</p></div>
  <div class="story-arrow"><i class="fas fa-chevron-right"></i></div>
  <div class="story-step"><div class="story-icon"><i class="fas fa-fire"></i></div><h3>Small Batch Roast</h3><p>Roasted locally in small batches for consistent, nuanced flavour every time.</p></div>
  <div class="story-arrow"><i class="fas fa-chevron-right"></i></div>
  <div class="story-step"><div class="story-icon"><i class="fas fa-hourglass-half"></i></div><h3>Rest &amp; Develop</h3><p>Beans rest to degas and develop their full character before the next step.</p></div>
  <div class="story-arrow"><i class="fas fa-chevron-right"></i></div>
  <div class="story-step"><div class="story-icon"><i class="fas fa-mortar-pestle"></i></div><h3>Grind to Order</h3><p>Ground specifically for your brew method &mdash; espresso, pour over, French press &amp; more.</p></div>
  <div class="story-arrow"><i class="fas fa-chevron-right"></i></div>
  <div class="story-step"><div class="story-icon"><i class="fas fa-truck"></i></div><h3>Delivered Fresh</h3><p>Shipped within hours of grinding &mdash; peak freshness guaranteed.</p></div>
</section>

<section id="coffees">
  <h2 class="section-title">Our Current Offerings</h2>
  <div class="section-divider"></div>
  <p class="section-sub">Eight exquisite single-origin coffees, each from a distinct South Indian estate with its own unique terroir and processing method.</p>
  <div class="coffees-grid" id="coffees-grid"></div>
</section>

<section id="why">
  <h2 class="section-title">Why Five Roam?</h2>
  <div class="section-divider"></div>
  <p class="section-sub" style="color:rgba(255,255,255,0.6);">Our promise from estate to your cup, every single time.</p>
  <div class="why-grid">
    <div class="why-card"><div class="why-icon"><i class="fas fa-map-marker-alt"></i></div><h3>Single Origin</h3><p>Every bean is traceable to one specific South Indian estate &mdash; total transparency.</p></div>
    <div class="why-card"><div class="why-icon"><i class="fas fa-award"></i></div><h3>Specialty Grade Only</h3><p>We source only specialty-grade Arabica beans, ensuring exceptional cup quality.</p></div>
    <div class="why-card"><div class="why-icon"><i class="fas fa-balance-scale"></i></div><h3>Small Batch Roasted</h3><p>Small batches mean careful attention and consistent, repeatable flavour in every cup.</p></div>
    <div class="why-card"><div class="why-icon"><i class="fas fa-clock"></i></div><h3>Grind Fresh for You</h3><p>We grind fresh to your preferred brew method moments before dispatch &mdash; never pre-ground.</p></div>
  </div>
</section>

<footer>
  <div class="footer-grid">
    <div class="footer-brand">
      <span class="nav-logo">Five<span style="color:var(--gold-light)">Roam</span> Coffee</span>
      <p>Specialty Single Origin Arabica from South India\'s finest estates, roasted and ground with love &mdash; delivered fresh to your door.</p>
      <div class="social-row">
        <a href="https://www.instagram.com/fiveroamcoffee/" target="_blank" class="social-btn"><i class="fab fa-instagram"></i></a>
        <a href="https://www.facebook.com/profile.php?id=61585702059341" target="_blank" class="social-btn"><i class="fab fa-facebook-f"></i></a>
      </div>
    </div>
    <div>
      <h4 class="footer-heading">Navigate</h4>
      <ul class="footer-links">
        <li><a href="#story">Our Story</a></li><li><a href="#coffees">Our Coffees</a></li>
        <li><a href="#why">Why Us</a></li><li><a href="admin.html">Admin Panel</a></li>
      </ul>
    </div>
    <div>
      <h4 class="footer-heading">Brew Methods</h4>
      <ul class="footer-links">
        <li><a href="#">Espresso</a></li><li><a href="#">Pour Over / V60</a></li>
        <li><a href="#">AeroPress</a></li><li><a href="#">French Press</a></li>
        <li><a href="#">Moka Pot</a></li><li><a href="#">Cold Brew</a></li>
      </ul>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2026 Five Roam Coffee &middot; All Rights Reserved</div>
</footer>

<!-- CART SIDEBAR -->
<div class="cart-overlay" id="cart-overlay" onclick="toggleCart()"></div>
<div class="cart-drawer" id="cart-drawer">
  <div class="cart-header">
    <h2><i class="fas fa-shopping-bag" style="margin-right:8px;color:var(--gold)"></i>Your Cart</h2>
    <button class="cart-close" onclick="toggleCart()"><i class="fas fa-times"></i></button>
  </div>
  <div class="cart-items" id="cart-items-list">
    <div class="cart-empty"><i class="fas fa-coffee" style="font-size:2.5rem;color:var(--beige-dark);margin-bottom:14px;display:block"></i>Your cart is empty.<br>Pick a coffee above!</div>
  </div>
  <div class="promo-section" id="promo-section" style="display:none">
    <div class="promo-row">
      <input type="text" class="promo-input" id="promo-input" placeholder="PROMO CODE" maxlength="20" />
      <button class="promo-apply-btn" onclick="applyPromo()">Apply</button>
    </div>
    <div class="promo-msg" id="promo-msg"></div>
  </div>
  <div class="cart-footer">
    <div class="discount-notice" id="discount-notice"><i class="fas fa-tag"></i><span id="discount-notice-text"></span></div>
    <div class="cart-totals" id="cart-totals" style="display:none">
      <div class="cart-total-row"><span>Subtotal (incl. GST)</span><span id="subtotal-val"></span></div>
      <div class="cart-total-row" id="multipack-row" style="display:none"><span>Multi-pack Discount</span><span id="multipack-val" style="color:#2a8c4a"></span></div>
      <div class="cart-total-row" id="promo-row-cart" style="display:none"><span id="promo-label-cart">Promo</span><span id="promo-val-cart" style="color:#2a8c4a"></span></div>
      <div class="cart-total-row"><span>Delivery</span><span>₹70</span></div>
      <div class="cart-total-row gst-note"><span>GST 5% (incl. in price)</span><span id="gst-val"></span></div>
      <div class="cart-total-row grand"><span>Total Payable</span><span id="grand-total-val"></span></div>
    </div>
    <button class="checkout-btn" id="checkout-btn" onclick="openCheckoutModal()" style="display:none">
      <i class="fas fa-lock"></i> Checkout &amp; Place Order
    </button>
    <div class="checkout-note" id="checkout-note" style="display:none">Secure checkout &middot; Payment gateway coming soon</div>
  </div>
</div>

<!-- BREW + ROAST MODAL -->
<div class="modal-overlay" id="brew-modal">
  <div class="modal-box">
    <h2>Customise Your Coffee</h2>
    <p class="modal-sub">You\'re adding <strong id="modal-coffee-name"></strong>. Choose your brew method and roast level.</p>
    <div class="step-label"><i class="fas fa-mortar-pestle" style="margin-right:6px"></i>Step 1 &mdash; Brew Method</div>
    <div class="option-grid brew-grid" id="brew-options">
      <div class="opt-btn" data-group="brew" data-val="Espresso"><i class="fas fa-coffee"></i><span>Espresso</span></div>
      <div class="opt-btn" data-group="brew" data-val="Pour Over / V60"><i class="fas fa-filter"></i><span>Pour Over / V60</span></div>
      <div class="opt-btn" data-group="brew" data-val="AeroPress"><i class="fas fa-circle"></i><span>AeroPress</span></div>
      <div class="opt-btn" data-group="brew" data-val="French Press"><i class="fas fa-mug-hot"></i><span>French Press</span></div>
      <div class="opt-btn" data-group="brew" data-val="Moka Pot"><i class="fas fa-fire"></i><span>Moka Pot</span></div>
      <div class="opt-btn" data-group="brew" data-val="Cold Brew"><i class="fas fa-tint"></i><span>Cold Brew</span></div>
    </div>
    <div class="step-label"><i class="fas fa-thermometer-half" style="margin-right:6px"></i>Step 2 &mdash; Roast Level</div>
    <div class="option-grid" id="roast-options">
      <div class="opt-btn" data-group="roast" data-val="Light"><i class="fas fa-sun"></i><span>Light</span><small>Bright &amp; Fruity</small></div>
      <div class="opt-btn" data-group="roast" data-val="Medium"><i class="fas fa-adjust"></i><span>Medium</span><small>Balanced &amp; Smooth</small></div>
      <div class="opt-btn" data-group="roast" data-val="Dark"><i class="fas fa-moon"></i><span>Dark</span><small>Bold &amp; Rich</small></div>
    </div>
    <button class="modal-confirm" onclick="confirmAddToCart()">Add to Cart</button>
    <span class="modal-cancel" onclick="closeBrewModal()">Cancel</span>
  </div>
</div>

<!-- CHECKOUT MODAL -->
<div class="modal-overlay" id="checkout-modal">
  <div class="modal-box">
    <h2><i class="fas fa-box" style="color:var(--gold);margin-right:10px"></i>Complete Your Order</h2>
    <p style="color:var(--text-light);font-size:0.85rem;margin-bottom:20px">Fill in your delivery details below.</p>
    <div class="form-group"><label>Full Name *</label><input type="text" class="form-control" id="co-name" placeholder="e.g. Arjun Mehta" /></div>
    <div class="form-group"><label>Delivery Address *</label><textarea class="form-control" id="co-address" placeholder="Flat / House No, Street, Area, City, State, PIN"></textarea></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
      <div class="form-group"><label>Phone Number *</label><input type="tel" class="form-control" id="co-phone" placeholder="+91 XXXXX XXXXX" /></div>
      <div class="form-group"><label>Email ID <span style="font-weight:400;text-transform:none">(optional)</span></label><input type="email" class="form-control" id="co-email" placeholder="you@email.com" /></div>
    </div>
    <div class="checkout-invoice" id="checkout-invoice"></div>
    <button class="place-order-btn" onclick="placeOrder()"><i class="fas fa-lock"></i> Place Order &mdash; Payment Gateway Coming Soon</button>
    <span class="modal-cancel" onclick="closeCheckoutModal()">Cancel</span>
  </div>
</div>

<!-- SUCCESS MODAL -->
<div class="modal-overlay" id="success-modal">
  <div class="modal-box" style="text-align:center">
    <div class="success-icon"><i class="fas fa-check-circle"></i></div>
    <h2 style="font-family:\'Playfair Display\',serif;color:#2a8c4a;margin-bottom:10px">Order Placed!</h2>
    <p style="color:var(--text-light);font-size:0.9rem;line-height:1.65;margin-bottom:16px">Thank you! Your order has been received. We will roast, grind fresh and dispatch it soon.</p>
    <div class="order-id-box" id="success-order-id"></div>
    <button class="close-success-btn" onclick="closeSuccessModal()"><i class="fas fa-home"></i> Continue Shopping</button>
  </div>
</div>

<div id="toast"></div>

<script>
const DEFAULT_COFFEES = [
  {id:1,estate:"Bison Valley Estate",name:"Bison Valley Bright",process:"Double Fermentation",acidity:"Refreshing, bright",body:"Well rounded, smooth",notes:["Golden Kiwi","White Chocolate","Mandarin Orange","Sweet"],price:599,img:""},
  {id:2,estate:"Stanmore Estate",name:"Stanmore Triple ICE",process:"Triple Fermentation ICE Blast",acidity:"Bright, sweet",body:"Medium",notes:["Complex Fruits","Jaggery","Dates","Dark Fruits","Black Currant"],price:699,img:""},
  {id:3,estate:"Hidden Falls Estate",name:"Hidden Falls Effervescent",process:"Double Fermentation",acidity:"Sweet, effervescent",body:"Syrupy, Medium+",notes:["Muscat Grapes","Hibiscus","Dark Chocolate","Almond","Cocoa"],price:649,img:""},
  {id:4,estate:"Orchardale Estate",name:"Orchardale Watermelon",process:"Watermelon Process",acidity:"Sweet / Tart",body:"Light but silky",notes:["Red Currant","Mandarin Orange","Honeysuckle","Floral"],price:625,img:""},
  {id:5,estate:"Bison Valley Estate",name:"Bison Valley Brown Sugar",process:"Brown Sugar Process",acidity:"Medium+, Intense",body:"Medium",notes:["Brown Sugar","Berries","Nuts","Complex"],price:675,img:""},
  {id:6,estate:"Moganad Estate",name:"Moganad Triple ICE",process:"Triple Fermentation ICE Blast",acidity:"Complex",body:"Medium, well rounded",notes:["Mulberry","Peach","Palm Sugar","Dried Fig","Elderflower"],price:699,img:""},
  {id:7,estate:"Stanmore Estate",name:"Stanmore Watermelon",process:"Watermelon Process",acidity:"Sweet / Medium",body:"Velvety, smooth",notes:["Lavender","Rose Hip","Baking Chocolate","Chocolatey"],price:649,img:""},
  {id:8,estate:"Orchardale Estate",name:"Orchardale Hazelnut",process:"Watermelon Process",acidity:"Bright / Sweet",body:"Medium+",notes:["Hazelnut","Milk Chocolate","Honey","Cocoa","Lime Zest"],price:625,img:""}
];
const DELIVERY = 70;
const Rs = "₹";
function fmt(n){ return Rs + n.toLocaleString("en-IN"); }

// GST is INCLUSIVE in displayed prices. Extract it for invoice display.
function extractGST(amount){ return Math.round(amount - amount / 1.05); }

let coffees = JSON.parse(localStorage.getItem("frc_coffees") || "null") || DEFAULT_COFFEES;
let cart = [];
let pendingCoffeeId = null;
let selectedBrew = null;
let selectedRoast = null;
let appliedPromo = null;

function renderCoffees(){
  const grid = document.getElementById("coffees-grid");
  grid.innerHTML = "";
  coffees.forEach(c => {
    const inCart = cart.find(i => i.id === c.id);
    const card = document.createElement("div");
    card.className = "coffee-card" + (inCart ? " selected" : "");
    card.id = "card-" + c.id;
    const noteTags = c.notes.map(n => "<span class=\'taste-tag\'>" + n + "</span>").join("");
    const imgContent = c.img ? "<img src=\'" + c.img + "\' alt=\'" + c.name + "\' />" : "<div class=\'coffee-img-placeholder\'>&#9749;</div>";
    card.innerHTML = "<div class=\'coffee-img-wrap\'>" + imgContent + "<div class=\'process-badge\'>" + c.process + "</div></div>"
      + "<div class=\'coffee-body\'>"
      + "<div class=\'coffee-estate\'>" + c.estate + "</div>"
      + "<div class=\'coffee-name\'>" + c.name + "</div>"
      + "<div class=\'coffee-meta\'><div class=\'coffee-meta-item\'><strong>Acidity:</strong> " + c.acidity + "</div><div class=\'coffee-meta-item\'><strong>Body:</strong> " + c.body + "</div></div>"
      + "<div class=\'taste-notes\'>" + noteTags + "</div>"
      + "<div class=\'coffee-footer\'>"
      + "<div class=\'coffee-price\'>" + fmt(c.price) + " <span>/ 100g</span><small>Incl. 5% GST</small></div>"
      + "<button class=\'add-btn" + (inCart ? " added" : "") + "\' onclick=\'openBrewModal(" + c.id + ")\'>"
      + (inCart ? "<i class=\'fas fa-check\'></i> Added" : "<i class=\'fas fa-plus\'></i> Add") + "</button>"
      + "</div></div>";
    grid.appendChild(card);
  });
}

function openBrewModal(id){
  const inCart = cart.find(i => i.id === id);
  if(inCart){ removeFromCart(id); return; }
  pendingCoffeeId = id;
  selectedBrew = null;
  selectedRoast = null;
  document.querySelectorAll(".opt-btn").forEach(b => b.classList.remove("sel"));
  const c = coffees.find(x => x.id === id);
  document.getElementById("modal-coffee-name").textContent = c.name;
  document.getElementById("brew-modal").classList.add("open");
}
function closeBrewModal(){
  document.getElementById("brew-modal").classList.remove("open");
  pendingCoffeeId = null; selectedBrew = null; selectedRoast = null;
}

document.querySelectorAll(".opt-btn").forEach(btn => {
  btn.addEventListener("click", function(){
    const grp = this.dataset.group;
    document.querySelectorAll(".opt-btn[data-group=\'" + grp + "\']").forEach(b => b.classList.remove("sel"));
    this.classList.add("sel");
    if(grp === "brew") selectedBrew = this.dataset.val;
    if(grp === "roast") selectedRoast = this.dataset.val;
  });
});

function confirmAddToCart(){
  if(!selectedBrew){ showToast("Please select a brew method!"); return; }
  if(!selectedRoast){ showToast("Please select a roast level!"); return; }
  const c = coffees.find(x => x.id === pendingCoffeeId);
  cart.push({id:c.id, estate:c.estate, name:c.name, price:c.price, brew:selectedBrew, roast:selectedRoast, qty:1, img:c.img});
  closeBrewModal();
  renderCoffees();
  updateCart();
  showToast(c.name + " added to cart!");
}

function applyPromo(){
  const code = document.getElementById("promo-input").value.trim().toUpperCase();
  const msg = document.getElementById("promo-msg");
  if(!code){ msg.textContent = "Please enter a code."; msg.className = "promo-msg error"; return; }
  const promos = JSON.parse(localStorage.getItem("frc_promos") || "[]");
  const found = promos.find(p => p.code.toUpperCase() === code && p.active);
  if(found){
    appliedPromo = found;
    msg.textContent = "\\u2713 \\"" + found.code + "\\" applied \\u2014 " + found.discount + "% off!";
    msg.className = "promo-msg success";
    found.uses = (found.uses || 0) + 1;
    const idx = promos.findIndex(p => p.code === found.code);
    promos[idx] = found;
    localStorage.setItem("frc_promos", JSON.stringify(promos));
    updateCart();
  } else {
    appliedPromo = null;
    msg.textContent = "Invalid or expired promo code.";
    msg.className = "promo-msg error";
    updateCart();
  }
}

function toggleCart(){
  document.getElementById("cart-overlay").classList.toggle("open");
  document.getElementById("cart-drawer").classList.toggle("open");
}
function removeFromCart(id){
  cart = cart.filter(i => i.id !== id);
  appliedPromo = null;
  document.getElementById("promo-input").value = "";
  document.getElementById("promo-msg").textContent = "";
  renderCoffees(); updateCart();
}
function changeQty(id, delta){
  const item = cart.find(i => i.id === id);
  if(!item) return;
  item.qty += delta;
  if(item.qty <= 0){ removeFromCart(id); return; }
  updateCart();
}

function calcTotals(){
  const disc = JSON.parse(localStorage.getItem("frc_discount") || "{\"threshold\":2,\"pct\":10}");
  const totalPkts = cart.reduce((s,i) => s + i.qty, 0);
  const subtotal = cart.reduce((s,i) => s + i.price * i.qty, 0);
  const multiPack = totalPkts >= disc.threshold;
  const multiDiscount = multiPack ? Math.round(subtotal * disc.pct / 100) : 0;
  const afterMulti = subtotal - multiDiscount;
  const promoDiscount = appliedPromo ? Math.round(afterMulti * appliedPromo.discount / 100) : 0;
  const afterPromo = afterMulti - promoDiscount;
  // GST is ALREADY included in the prices shown on the page.
  // Extract GST from afterPromo for display on invoice only.
  const gstIncluded = extractGST(afterPromo);
  const grand = afterPromo + DELIVERY; // NO extra GST — it's already in the price
  return {subtotal, multiDiscount, promoDiscount, afterPromo, gstIncluded, grand, totalPkts, disc, multiPack};
}

function updateCart(){
  const list = document.getElementById("cart-items-list");
  const t = calcTotals();
  document.getElementById("cart-count").textContent = t.totalPkts;

  if(cart.length === 0){
    list.innerHTML = "<div class=\'cart-empty\'><i class=\'fas fa-coffee\' style=\'font-size:2.5rem;color:var(--beige-dark);margin-bottom:14px;display:block\'></i>Your cart is empty.<br>Pick a coffee above!</div>";
    document.getElementById("cart-totals").style.display = "none";
    document.getElementById("checkout-btn").style.display = "none";
    document.getElementById("checkout-note").style.display = "none";
    document.getElementById("discount-notice").style.display = "none";
    document.getElementById("promo-section").style.display = "none";
    return;
  }

  list.innerHTML = "";
  cart.forEach(item => {
    const el = document.createElement("div");
    el.className = "cart-item";
    el.innerHTML = "<div class=\'cart-item-img\'>" + (item.img ? "<img src=\'" + item.img + "\' alt=\'" + item.name + "\'>" : "&#9749;") + "</div>"
      + "<div class=\'cart-item-info\'>"
      + "<div class=\'cart-item-name\'>" + item.name + "</div>"
      + "<div class=\'cart-item-sub\'>" + item.estate + " &middot; " + item.brew + " &middot; " + item.roast + " Roast</div>"
      + "<div class=\'qty-control\'><button class=\'qty-btn\' onclick=\'changeQty(" + item.id + ",-1)\'>&minus;</button><span class=\'qty-num\'>" + item.qty + "</span><button class=\'qty-btn\' onclick=\'changeQty(" + item.id + ",1)\'>+</button></div>"
      + "<button class=\'remove-btn\' onclick=\'removeFromCart(" + item.id + ")\'><i class=\'fas fa-trash-alt\'></i> Remove</button>"
      + "</div>"
      + "<div class=\'cart-item-price\'>" + fmt(item.price * item.qty) + "</div>";
    list.appendChild(el);
  });

  let noticeMsg = "";
  if(t.multiPack) noticeMsg += t.disc.pct + "% multi-pack discount applied!";
  if(appliedPromo) noticeMsg += (noticeMsg ? " + " : "") + "\\"" + appliedPromo.code + "\\" promo applied!";
  document.getElementById("discount-notice").style.display = noticeMsg ? "block" : "none";
  document.getElementById("discount-notice-text").textContent = noticeMsg;

  document.getElementById("cart-totals").style.display = "block";
  document.getElementById("subtotal-val").textContent = fmt(t.subtotal);

  const mpRow = document.getElementById("multipack-row");
  mpRow.style.display = t.multiPack ? "flex" : "none";
  document.getElementById("multipack-val").textContent = "-" + fmt(t.multiDiscount);

  const pRow = document.getElementById("promo-row-cart");
  pRow.style.display = appliedPromo ? "flex" : "none";
  if(appliedPromo){
    document.getElementById("promo-label-cart").textContent = "Promo \\"" + appliedPromo.code + "\\"";
    document.getElementById("promo-val-cart").textContent = "-" + fmt(t.promoDiscount);
  }

  document.getElementById("gst-val").textContent = fmt(t.gstIncluded);
  document.getElementById("grand-total-val").textContent = fmt(t.grand);
  document.getElementById("checkout-btn").style.display = "flex";
  document.getElementById("checkout-note").style.display = "block";
  document.getElementById("promo-section").style.display = "block";
}

function openCheckoutModal(){
  if(cart.length === 0) return;
  const t = calcTotals();
  const inv = document.getElementById("checkout-invoice");
  let itemsHtml = "<div class=\'inv-items\'>";
  cart.forEach(item => {
    itemsHtml += "<div class=\'inv-item\'><span>" + item.name + " x" + item.qty + " (" + item.brew + ", " + item.roast + " Roast)</span><span>" + fmt(item.price * item.qty) + "</span></div>";
  });
  itemsHtml += "</div>";
  let rows = "<div class=\'inv-row\'><span>Subtotal</span><span>" + fmt(t.subtotal) + "</span></div>";
  if(t.multiPack) rows += "<div class=\'inv-row\'><span>Multi-pack Discount</span><span style=\'color:#2a8c4a\'>-" + fmt(t.multiDiscount) + "</span></div>";
  if(appliedPromo) rows += "<div class=\'inv-row\'><span>Promo \\"" + appliedPromo.code + "\\"</span><span style=\'color:#2a8c4a\'>-" + fmt(t.promoDiscount) + "</span></div>";
  rows += "<div class=\'inv-row\'><span>GST @ 5% (incl. in price)</span><span style=\'color:var(--text-light);font-style:italic\'>" + fmt(t.gstIncluded) + "</span></div>";
  rows += "<div class=\'inv-row\'><span>Delivery Charges</span><span>" + fmt(DELIVERY) + "</span></div>";
  rows += "<div class=\'inv-row total\'><span>Total Payable</span><span>" + fmt(t.grand) + "</span></div>";
  inv.innerHTML = itemsHtml + rows;
  document.getElementById("checkout-modal").classList.add("open");
}
function closeCheckoutModal(){ document.getElementById("checkout-modal").classList.remove("open"); }

function placeOrder(){
  const name = document.getElementById("co-name").value.trim();
  const address = document.getElementById("co-address").value.trim();
  const phone = document.getElementById("co-phone").value.trim();
  const email = document.getElementById("co-email").value.trim();
  if(!name){ showToast("Please enter your full name."); return; }
  if(!address){ showToast("Please enter your delivery address."); return; }
  if(!phone){ showToast("Please enter your phone number."); return; }
  const t = calcTotals();
  const orderId = "FRC-" + Date.now();
  const order = {
    orderId, timestamp: new Date().toISOString(),
    name, address, phone, email,
    items: cart.map(i => ({name:i.name, estate:i.estate, brew:i.brew, roast:i.roast, qty:i.qty, price:i.price})),
    subtotal: t.subtotal, multiDiscount: t.multiDiscount, promoDiscount: t.promoDiscount,
    promoCode: appliedPromo ? appliedPromo.code : "",
    gstIncluded: t.gstIncluded, delivery: DELIVERY, grand: t.grand
  };
  const orders = JSON.parse(localStorage.getItem("frc_orders") || "[]");
  orders.unshift(order);
  localStorage.setItem("frc_orders", JSON.stringify(orders));
  closeCheckoutModal();
  document.getElementById("success-order-id").textContent = "Order ID: " + orderId;
  document.getElementById("success-modal").classList.add("open");
  cart = []; appliedPromo = null;
  document.getElementById("promo-input").value = "";
  document.getElementById("promo-msg").textContent = "";
  renderCoffees(); updateCart();
  document.getElementById("cart-overlay").classList.remove("open");
  document.getElementById("cart-drawer").classList.remove("open");
}
function closeSuccessModal(){ document.getElementById("success-modal").classList.remove("open"); }

function showToast(msg){
  const t = document.getElementById("toast");
  t.innerHTML = msg; t.classList.add("show");
  setTimeout(() => t.classList.remove("show"), 3200);
}

renderCoffees();
</script>
</body>
</html>'''

with open('/tmp/index.html','w',encoding='utf-8') as f:
    f.write(index_html)
bad = index_html.count('&#8377;')
print(f"index.html written. Bad entity count: {bad}, size: {len(index_html)}")
